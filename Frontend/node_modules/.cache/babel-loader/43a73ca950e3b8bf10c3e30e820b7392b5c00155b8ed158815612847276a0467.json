{"ast":null,"code":"// RegisteredTravelPlanList.js\nimport React,{useState,useEffect}from'react';import UserService from'../../services/UserService';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faEye,faArrowRight}from'@fortawesome/free-solid-svg-icons';import{useAuth}from'../../context/AuthContext';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RegisteredTravelPlanList(){const[travelPlans,setTravelPlans]=useState([]);const{userId}=useAuth();// Use userId from AuthContext\nconst fetchTravelPlans=()=>{UserService.getUserById(userId).then(response=>{setTravelPlans(response.data.registeredTravelPlans);}).catch(error=>{console.error('Error fetching user details:',error);});};const handleDeregister=travelPlanId=>{// Display confirmation prompt\nconst confirmDeregister=window.confirm('Are you sure you want to deregister from this travel plan?');// If user confirms, proceed with deregistration\nif(confirmDeregister){UserService.deregisterUserFromTravelPlan(userId,travelPlanId).then(()=>{// Refresh travel plans after deregistration\nfetchTravelPlans();}).catch(error=>{console.error('Error deregistering user:',error);});}};useEffect(()=>{// Fetch travel plans on component mount\nfetchTravelPlans();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center\",children:\"Registered Travel Plans\"}),travelPlans.length===0?/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",children:[\"You have not registered for any plan yet. \",/*#__PURE__*/_jsx(Link,{to:\"/user-home\",children:\"Register for plans\"}),\".\"]}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:travelPlans.map(travelPlan=>/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mt-3 mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"img\",{src:travelPlan.imageUrl,className:\"card-img-top\",alt:\"Travel Plan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title\",children:[travelPlan.origin,' ',/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faArrowRight}),\" \",travelPlan.destination]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:travelPlan.description}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Start Date:\"}),\" \",travelPlan.startDate]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"End Date:\"}),\" \",travelPlan.endDate]}),/*#__PURE__*/_jsxs(\"p\",{className:\"card-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Budget:\"}),\" \",travelPlan.budget]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:()=>handleDeregister(travelPlan.id),children:\"Deregister\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-info ml-3\",onClick:()=>console.log('View clicked'),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEye}),\" View\"]})]})]})]})},travelPlan.id))})]});}","map":{"version":3,"names":["React","useState","useEffect","UserService","FontAwesomeIcon","faEye","faArrowRight","useAuth","Link","jsx","_jsx","jsxs","_jsxs","RegisteredTravelPlanList","travelPlans","setTravelPlans","userId","fetchTravelPlans","getUserById","then","response","data","registeredTravelPlans","catch","error","console","handleDeregister","travelPlanId","confirmDeregister","window","confirm","deregisterUserFromTravelPlan","children","className","length","to","map","travelPlan","src","imageUrl","alt","origin","icon","destination","description","startDate","endDate","budget","onClick","id","log"],"sources":["/Users/aakashsikarwar/Desktop/React SpringBoot App/travel_plan_management_system1/src/components/UserComponents/RegisteredTravelPlanList.jsx"],"sourcesContent":["// RegisteredTravelPlanList.js\nimport React, { useState, useEffect } from 'react';\nimport UserService from '../../services/UserService';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faEye, faArrowRight } from '@fortawesome/free-solid-svg-icons';\nimport { useAuth } from '../../context/AuthContext';\nimport { Link } from 'react-router-dom';\n\nexport default function RegisteredTravelPlanList() {\n  const [travelPlans, setTravelPlans] = useState([]);\n  const { userId } = useAuth(); // Use userId from AuthContext\n\n  const fetchTravelPlans = () => {\n    UserService.getUserById(userId)\n      .then((response) => {\n        setTravelPlans(response.data.registeredTravelPlans);\n      })\n      .catch((error) => {\n        console.error('Error fetching user details:', error);\n      });\n  };\n\n  const handleDeregister = (travelPlanId) => {\n    // Display confirmation prompt\n    const confirmDeregister = window.confirm('Are you sure you want to deregister from this travel plan?');\n    \n    // If user confirms, proceed with deregistration\n    if (confirmDeregister) {\n      UserService.deregisterUserFromTravelPlan(userId, travelPlanId)\n        .then(() => {\n          // Refresh travel plans after deregistration\n          fetchTravelPlans();\n        })\n        .catch((error) => {\n          console.error('Error deregistering user:', error);\n        });\n    }\n  };\n\n  useEffect(() => {\n    // Fetch travel plans on component mount\n    fetchTravelPlans();\n  }, []);\n\n  return (\n    <div>\n      <h2 className='text-center'>Registered Travel Plans</h2>\n      {travelPlans.length === 0 ? (\n        <p className='text-center'>You have not registered for any plan yet. <Link to='/user-home'>Register for plans</Link>.</p>\n      ) : (\n        <div className='row'>\n          {travelPlans.map((travelPlan) => (\n            <div className='col-md-4 mt-3 mb-4' key={travelPlan.id}>\n              <div className='card'>\n                <img\n                  src={travelPlan.imageUrl}\n                  className='card-img-top'\n                  alt='Travel Plan'\n                />\n                <div className='card-body'>\n                  <h5 className='card-title'>\n                    {travelPlan.origin}{' '}\n                    <FontAwesomeIcon icon={faArrowRight} /> {travelPlan.destination}\n                  </h5>\n                  <p className='card-text'>{travelPlan.description}</p>\n                  <p className='card-text'>\n                    <strong>Start Date:</strong> {travelPlan.startDate}\n                  </p>\n                  <p className='card-text'>\n                    <strong>End Date:</strong> {travelPlan.endDate}\n                  </p>\n                  <p className='card-text'>\n                    <strong>Budget:</strong> {travelPlan.budget}\n                  </p>\n                  <div className='btn-group'>\n                    <button\n                      className='btn btn-danger'\n                      onClick={() => handleDeregister(travelPlan.id)}\n                    >\n                      Deregister\n                    </button>\n                    <button\n                      className='btn btn-info ml-3'\n                      onClick={() => console.log('View clicked')}\n                    >\n                      <FontAwesomeIcon icon={faEye} /> View\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}